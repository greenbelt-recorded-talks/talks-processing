{% extends 'base.html' %}

{% block content %}

<h1 class="uk-heading-line uk-text-center"><span>Recorders</span></h1>


<div class="uk-card uk-card-body uk-card-default">
{% filter markdown %}
## Upload New Recorders File

Upload a CSV file containing recorder information. Each line in the file should contain: Recorder name, max number of shifts per day.

Example:


	"Bilbo Baggins",2    
	"Belladonna Took",1
	"Thorin Oakenshield",2


When you upload the file, a new schedule will be calculated. There is no error checking: you should ensure that all talks are covered. An easy way to do this is to check how many times the string "VENUE" appears on this page: if it's one more time than the number of talks, all talks are covered. 
{% endfilter %}



<form method=post enctype=multipart/form-data>
	<label for=file>File</label>
	<input name=file type=file id=file accept=".csv">
	<button>Submit</button>
</form>

</div>
<hr class="uk-divider-icon">

<div class="uk-card uk-card-body uk-card-default">

{% filter markdown %}
## Recorders Schedule
{% endfilter %}


<table class="uk-table">
<tr>
	<th>Recorder</th>
	<th>Max Shifts Per Day</th>
        <th>Talks Recorded</th>
</tr>
{% for recorder in recorders %}
<tr>
	<td>{{ recorder.name }}</td>
	<td>{{ recorder.max_shifts_per_day }}</td>
        <td>
<table>
{% for talk in recorder.talks %}
<tr>
	<th>Talk ID</th>
	<th>Time</th>
	<th>Venue</th>
	<th>Speaker</th>
	<th>Title</th>
</tr>
<tr {% if talk["is_priority"] %} class="priority_talk" {% endif %}>
	<td>{{ talk.id }}</td>
	<td>{{ talk.start_time }}</td>
	<td>{{ talk.venue }}</td>
	<td>{{ talk.speaker }}</td>
	<td>{{ talk.title }}</td>
</tr>
{% endfor %}
</table>

</td>
</tr>


{% endfor %}
</table>
</div>

{% endblock %}


